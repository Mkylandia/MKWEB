/* styles.css - Extreme Performance Optimization & "Krass" Design */
:root {
  /* Global Design Variables - Tuned for ultimate polish and realism */
  --t: 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); /* Slightly faster, still elegant transitions */
  --r: 28px; /* Slightly larger border-radius for more modern softness */
  --s: 0 15px 40px rgba(0,0,0,0.25); /* Stronger, more diffused main shadow */
  --sh: 0 25px 70px rgba(0,0,0,0.45); /* Prominent shadow for hover/active states */
  --border-width: 1.5px; /* Slightly thicker borders for more presence */
  --text-gradient-angle: 60deg; /* Angle for text gradients for more dynamic look */
  --glass-reflection: linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, transparent 55%, rgba(255, 255, 255, 0.04) 100%); /* Stronger reflection on glass */
  --glow-strength: 0 0 20px; /* Enhanced base glow strength */
  --glow-color: var(--acc); /* Base glow color */
  --blur-intensity: 20px; /* Main backdrop-filter blur value - increased for stronger effect */
  --saturate-intensity: 180%; /* Increased saturate for a more vibrant glass effect */
}

/* Themed Variables */
[data-theme="dark"] {
  --bg: linear-gradient(145deg, #1A1A1A 0%, #2A2A2A 100%); /* Deeper, more refined dark background */
  --gl: rgba(255,255,255,0.08); /* Stronger glass highlight */
  --gb: rgba(255,255,255,0.18); /* Stronger glass background */
  --acc: #AB5FFF; /* Vibrant, deep purple */
  --ah: #8D4BDB; /* Slightly darker hover purple */
  --text-color: #E0E0E0; /* Lighter text for better contrast */
  --dim: #A0A0A0; /* Slightly lighter dim text */
  --search-border: #3A3A3A; /* Darker border for search */
}

[data-theme="light"] {
  --bg: linear-gradient(145deg, #F9FBFD 0%, #E0E8F0 100%); /* Very light, soft off-white background */
  --gl: rgba(0,0,0,0.05); /* Subtle glass highlight */
  --gb: rgba(0,0,0,0.12); /* Subtle glass background */
  --acc: #0077CC; /* Vibrant, modern blue */
  --ah: #005EA6; /* Slightly darker hover blue */
  --text-color: #333333; /* Darker text for readability */
  --dim: #666666; /* Slightly darker dim text */
  --search-border: #C0C0C0; /* Lighter border for search */
}

/* Base Styles */
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden; /* Hide scrollbars for the main body */
  font-family: 'Inter', sans-serif;
  color: var(--text-color);
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  display: flex;
  justify-content: center;
  align-items: center;
  perspective: 1000px; /* For 3D transformations */
  transition: background var(--t), color var(--t);
  position: relative;
  overflow-y: auto; /* Enable scrolling for content inside */
}

/* Custom Scrollbar for better aesthetics */
body::-webkit-scrollbar {
  width: 8px;
}

body::-webkit-scrollbar-track {
  background: transparent; /* Makes the track invisible */
}

body::-webkit-scrollbar-thumb {
  background: var(--acc); /* Thumb color matches accent */
  border-radius: 10px;
  border: 2px solid transparent; /* Subtle border for definition */
  background-clip: padding-box; /* Ensures border doesn't cut into thumb */
}

body::-webkit-scrollbar-thumb:hover {
  background: var(--ah); /* Darker thumb on hover */
}


/* Grain Effect */
.grain {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYVaGNQAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAqSURBVEjH7dGxCYAwDETR9c+/hTj/w9gB4Yw0Fm/6pCj3d9UfK70v0P97D8v8L5kAAAAASUVORK5CYII='); /* Subtle noise texture */
  background-size: 150px; /* Finer grain texture */
  opacity: 0.15; /* Even more subtle opacity */
  pointer-events: none;
  animation: grainAnimation 10s steps(10) infinite;
  z-index: 1;
}

@keyframes grainAnimation {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-5%, -10%); }
  20% { transform: translate(-15%, 10%); }
  30% { transform: translate(-5%, -20%); }
  40% { transform: translate(-10%, 5%); }
  50% { transform: translate(-20%, -15%); }
  60% { transform: translate(15%, -5%); }
  70% { transform: translate(-10%, 10%); }
  80% { transform: translate(5%, 15%); }
  90% { transform: translate(10%, -5%); }
}

/* Background Shape for subtle animation */
.background-shape {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 60vmax; /* Larger for more impact */
  height: 60vmax; /* Larger for more impact */
  background: var(--acc);
  border-radius: 50%;
  transform: translate(-50%, -50%) rotate(0deg);
  filter: blur(100px); /* Increased blur for atmospheric effect */
  opacity: 0.1; /* Slightly more visible */
  pointer-events: none;
  animation: floatEffect 25s ease-in-out infinite alternate;
  z-index: 0;
  will-change: transform, opacity;
}

@keyframes floatEffect {
  0% {
    transform: translate(-50%, -50%) rotate(0deg) scale(1);
    opacity: 0.1;
  }
  33% {
    transform: translate(-55%, -45%) rotate(10deg) scale(1.05);
    opacity: 0.12;
  }
  66% {
    transform: translate(-45%, -55%) rotate(-10deg) scale(0.98);
    opacity: 0.08;
  }
  100% {
    transform: translate(-50%, -50%) rotate(0deg) scale(1);
    opacity: 0.1;
  }
}

.container {
  width: 90%;
  max-width: 1400px; /* Allows for wider screens */
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem; /* Consistent spacing */
  padding: 2rem 0; /* Padding top/bottom */
  position: relative;
  z-index: 2; /* Ensure content is above grain and shape */
  min-height: 100vh; /* Ensure container takes full height for content flow */
  box-sizing: border-box; /* Include padding in height calculation */
}

/* Grid layout for larger screens */
@media (min-width: 768px) {
  .container {
    grid-template-columns: 2fr 1fr; /* Main content | Sidebar */
    grid-template-areas:
      "header header"
      "main stats";
  }
}

@media (min-width: 1024px) {
  .container {
    grid-template-columns: 3fr 1fr; /* Main content | Wider sidebar */
  }
}


/* Glassmorphism Base */
.glass {
  background: var(--gb);
  border: var(--border-width) solid var(--gl);
  border-radius: var(--r);
  box-shadow: var(--s);
  backdrop-filter: blur(var(--blur-intensity)) saturate(var(--saturate-intensity));
  -webkit-backdrop-filter: blur(var(--blur-intensity)) saturate(var(--saturate-intensity)); /* Safari support */
  transition: transform var(--t), box-shadow var(--t); /* Smooth transitions for hover */
  position: relative;
  overflow: hidden; /* Important for reflection and shimmer */
  will-change: transform, box-shadow, background, border;
}

.glass::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--glass-reflection);
  pointer-events: none;
  opacity: 1; /* Reflection always visible */
}

/* Header */
.header {
  grid-area: header;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  text-align: center;
  gap: 1.5rem;
  position: relative;
}

.logo {
  font-size: clamp(2.5rem, 8vw, 4.5rem);
  font-weight: 900;
  margin: 0;
  background-image: linear-gradient(var(--text-gradient-angle), var(--acc), var(--ah));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
  text-shadow: var(--glow-strength) var(--glow-color); /* Enhanced glow for logo */
  animation: pulseText 3s infinite alternate ease-in-out;
  will-change: text-shadow;
}

@keyframes pulseText {
  0% { text-shadow: var(--glow-strength) var(--glow-color); }
  100% { text-shadow: var(--glow-strength) var(--glow-color), 0 0 30px rgba(var(--glow-color-rgb), 0.5); }
}

.controls {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  justify-content: center;
}

.theme-control select {
  padding: 0.6rem 1rem;
  border-radius: 12px;
  border: 1px solid var(--gl);
  background-color: var(--gb);
  color: var(--text-color);
  font-size: 1rem;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  cursor: pointer;
  outline: none;
  transition: all var(--t);
  position: relative;
  overflow: hidden;
}

.theme-control select:hover,
.theme-control select:focus {
  border-color: var(--acc);
  box-shadow: 0 0 10px rgba(var(--acc), 0.4);
}

.theme-control select option {
  background-color: var(--gb);
  color: var(--text-color);
}

/* Custom dropdown arrow - for select */
.theme-control {
  position: relative;
}

.theme-control::after {
  content: 'â–¼';
  font-size: 0.8rem;
  color: var(--dim);
  position: absolute;
  right: 1rem;
  top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
}

button {
  padding: 0.6rem 1rem;
  border-radius: 12px;
  border: 1px solid var(--gl);
  background-color: var(--gb);
  color: var(--text-color);
  font-size: 1rem;
  cursor: pointer;
  outline: none;
  transition: all var(--t);
  display: flex;
  align-items: center;
  gap: 0.5rem;
  position: relative;
  overflow: hidden;
}

button:hover,
button:focus {
  border-color: var(--acc);
  box-shadow: 0 0 10px rgba(var(--acc), 0.4);
  transform: translateY(-2px); /* Subtle lift on hover */
}

/* Inner glow for select and button on hover/focus */
select::after, button::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  border: 2px solid transparent; /* Slightly thicker border for glow */
  background: linear-gradient(to right, var(--acc), var(--ah)) border-box;
  -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity var(--t);
  pointer-events: none;
}

select:hover::after, select:focus-within::after,
button:hover::after, button:focus::after {
  opacity: 1;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

/* Weather Widget */
.weather-widget {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.8rem 1.2rem;
  font-size: 0.95rem;
  white-space: nowrap;
}

.weather-icon {
  font-size: 1.8rem;
}

.weather-info {
  display: flex;
  flex-direction: column;
}

#weather-text {
  font-weight: 600;
}

#weather-details {
  font-size: 0.8rem;
  color: var(--dim);
}

/* Main Content Area */
main {
  grid-column: 1 / -1; /* Spans full width by default */
  display: grid;
  gap: 1.5rem;
}

@media (min-width: 768px) {
  main {
    grid-area: main;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Adaptive columns */
    grid-template-rows: auto auto 1fr; /* Adjust rows as needed */
  }
}

/* Time Widget */
.time-widget {
  padding: 2.5rem;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  gap: 1rem;
}

#time {
  font-size: clamp(3rem, 10vw, 6rem);
  font-weight: 900;
  letter-spacing: -2px;
  background-image: linear-gradient(var(--text-gradient-angle), var(--acc), var(--ah));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
  text-shadow: var(--glow-strength) var(--glow-color); /* Enhanced glow for time */
  will-change: text-shadow;
  animation: gradientPulse 3s infinite alternate ease-in-out; /* Match logo pulse */
}

#date {
  font-size: clamp(1rem, 3vw, 1.5rem);
  font-weight: 500;
  color: var(--dim);
}

@keyframes gradientPulse {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}

/* Search Box */
.search-box {
  display: flex;
  align-items: center;
  padding: 1rem 1.5rem;
  position: relative;
  overflow: hidden;
}

.search-icon {
  font-size: 1.5rem;
  margin-right: 1rem;
  color: var(--dim);
}

#search-input {
  flex-grow: 1;
  border: none;
  background: transparent;
  color: var(--text-color);
  font-size: 1.2rem;
  outline: none;
  padding: 0.2rem 0;
  transition: color var(--t);
}

#search-input::placeholder {
  color: var(--dim);
  opacity: 0.7;
}

.search-box:focus-within {
  border-color: var(--acc);
}

.search-box::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  border: 2px solid transparent; /* Slightly thicker border */
  background: linear-gradient(to right, var(--acc), var(--ah)) border-box;
  -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  transform: scaleX(0);
  transform-origin: left;
  animation: borderGrow 0.3s forwards ease-out; /* Faster border grow */
  pointer-events: none;
  opacity: 0; /* Hidden by default */
}

.search-box:focus-within::after {
  animation: borderGrow 0.3s forwards ease-out; /* Re-trigger animation on focus */
  opacity: 1;
}

@keyframes borderGrow {
  0% { transform: scaleX(0); opacity: 0; }
  100% { transform: scaleX(1); opacity: 1; }
}


/* Search Suggestions (Dynamic) */
#suggestions-box {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: var(--gb);
  border: var(--border-width) solid var(--gl);
  border-radius: var(--r);
  box-shadow: var(--s);
  max-height: 200px;
  overflow-y: auto;
  z-index: 10;
  list-style: none;
  padding: 0.5rem 0;
  margin-top: 0.5rem;
  transform-origin: top;
  animation: fadeInScaleY 0.2s ease-out forwards; /* Quick animation */
  will-change: transform, opacity;
}

#suggestions-box li {
  padding: 0.8rem 1.5rem;
  cursor: pointer;
  transition: background-color 0.2s ease, color 0.2s ease;
}

#suggestions-box li:hover, #suggestions-box li.selected {
  background-color: rgba(var(--acc), 0.15); /* Subtle background */
  color: var(--acc);
}

@keyframes fadeInScaleY {
  0% { transform: scaleY(0.8); opacity: 0; }
  100% { transform: scaleY(1); opacity: 1; }
}

/* User Avatar */
#user-avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: linear-gradient(45deg, var(--acc), var(--ah));
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 3rem;
  color: #fff;
  font-weight: 700;
  box-shadow: var(--s);
  transition: transform var(--t), opacity var(--t), box-shadow var(--t);
  cursor: pointer;
  position: absolute; /* Position relative to header or main container */
  right: 2rem;
  top: 2rem;
  z-index: 5;
  border: 2px solid var(--gl);
  will-change: transform, opacity;
}

#user-avatar.hidden-avatar {
  opacity: 0;
  transform: scale(0.8) translateY(-20px);
  pointer-events: none;
}

#user-avatar:hover {
  transform: scale(1.05) translateY(-5px); /* Lift and slightly enlarge */
  box-shadow: var(--sh);
}

/* Main Sections */
.sections-container {
  display: grid;
  gap: 1.5rem;
  grid-column: 1 / -1; /* Spans full width by default */
}

@media (min-width: 768px) {
  .sections-container {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    grid-template-areas:
      "quote quote"
      "actions actions"
      "news news"
      "bookmarks bookmarks";
  }
  .quote-of-the-day { grid-area: quote; }
  .quick-actions { grid-area: actions; }
  .news-section { grid-area: news; }
  .bookmark-section { grid-area: bookmarks; }
}

@media (min-width: 1024px) {
  .sections-container {
    grid-template-columns: repeat(2, 1fr); /* Two columns for larger screens */
    grid-template-areas:
      "quote news"
      "actions actions"
      "bookmarks bookmarks";
  }
}

/* Quote of the Day */
.quote-of-the-day {
  padding: 2.5rem;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

#quote-text {
  font-size: clamp(1.1rem, 2.5vw, 1.6rem);
  font-style: italic;
  font-weight: 500;
  margin-bottom: 1rem;
  color: var(--text-color);
  line-height: 1.5;
}

#quote-author {
  font-size: clamp(0.85rem, 1.5vw, 1.1rem);
  font-weight: 600;
  color: var(--dim);
}

/* Quick Actions */
.quick-actions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 1.2rem;
  padding: 1.5rem;
}

.action-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 2rem 1rem;
  text-decoration: none;
  color: var(--text-color);
  position: relative;
  overflow: hidden;
  cursor: pointer;
}

.action-card:hover {
  transform: translateY(-5px) scale(1.02); /* More pronounced lift and slight scale */
  box-shadow: var(--sh);
}

/* Shimmer effect for action cards */
.action-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -75%; /* Start off-screen */
  width: 50%;
  height: 100%;
  background: linear-gradient(to right, transparent, rgba(255,255,255,0.15), transparent); /* Stronger shimmer */
  transform: skewX(-20deg);
  pointer-events: none;
  transition: transform var(--t);
}

.action-card:hover::before {
  transform: translateX(150%) skewX(-20deg); /* Move across the card on hover */
  transition: transform 0.6s ease-in-out;
}


.icon {
  font-size: clamp(3rem, 6vw, 4rem);
  margin-bottom: 0.8rem;
  transition: transform var(--t);
}

.action-card:hover .icon {
  transform: scale(1.1);
}

.label {
  font-size: clamp(0.9rem, 2vw, 1.1rem);
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--text-color);
}

/* News and Bookmarks Sections */
.news-section, .bookmark-section {
  padding: 2rem;
}

.news-section h2, .bookmark-section h2 {
  font-size: clamp(1.8rem, 4vw, 2.5rem);
  margin-bottom: 1.5rem;
  font-weight: 700;
  color: var(--text-color);
  text-align: center;
}

.news-section > p { /* For the "Click here" message */
  text-align: center;
  font-size: 1rem;
  color: var(--dim);
  margin-top: 1rem;
}

.news-grid, .bookmark-grid {
  display: grid;
  gap: 1.2rem;
}

@media (min-width: 768px) {
  .news-grid, .bookmark-grid {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }
}

.news-card, .bookmark-card {
  display: flex;
  flex-direction: column;
  padding: 1.8rem;
  text-decoration: none;
  color: var(--text-color);
  transition: transform var(--t), box-shadow var(--t);
}

.news-card:hover, .bookmark-card:hover {
  transform: translateY(-5px) scale(1.02); /* More pronounced lift and slight scale */
  box-shadow: var(--sh);
}

.news-card h3 {
  font-size: clamp(1.1rem, 2vw, 1.3rem);
  font-weight: 600;
  margin-bottom: 0.8rem;
  line-height: 1.4;
}

.news-card p {
  font-size: clamp(0.9rem, 1.5vw, 1rem);
  color: var(--dim);
  margin-bottom: 1rem;
  flex-grow: 1; /* Ensures text takes available space */
}

.news-card .source-date {
  font-size: 0.8rem;
  color: var(--dim);
  margin-top: auto; /* Pushes to bottom */
  opacity: 0.8;
}

.bookmark-card {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.bookmark-card span:first-child {
  font-size: clamp(1.8rem, 4vw, 2.5rem);
  flex-shrink: 0;
}

.bookmark-card > div {
  display: flex;
  flex-direction: column;
}

.bookmark-card > div > div:first-child {
  font-weight: 600;
  font-size: clamp(1rem, 2vw, 1.2rem);
  margin-bottom: 0.2rem;
}

.bookmark-card > div > div:last-child {
  font-size: clamp(0.8rem, 1.5vw, 0.9rem);
  color: var(--dim);
}

/* Stats Panel */
.stats-panel {
  grid-area: stats;
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
  font-size: 0.95rem;
  color: var(--text-color);
  justify-content: center; /* Center content vertically */
  align-items: center; /* Center content horizontally */
}

.stats-panel div {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.stats-panel span {
  font-weight: 700;
  color: var(--acc);
}

/* Animations for elements appearing on scroll */
.animate-in {
  opacity: 0;
  transform: translateY(20px) scale(0.95);
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

.animate-in.visible {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Ensure glassmorphism properties are applied directly for transitions */
.glass.animate-in {
  transition: opacity 0.8s ease-out, transform 0.8s ease-out, box-shadow var(--t), background var(--t), border var(--t);
}


/* Media Queries for Responsiveness */
@media (max-width: 1200px) {
  :root {
    --blur-intensity: 18px;
    --saturate-intensity: 170%;
  }
  .container { max-width: 1200px; padding: 1.5rem 0; }
  .header { padding: 1.5rem; }
  .logo { font-size: clamp(2rem, 7vw, 4rem); }
  .time-widget { padding: 2rem; }
  #time { font-size: clamp(2.5rem, 9vw, 5rem); }
  .search-box { padding: 0.8rem 1.2rem; }
  #search-input { font-size: 1.1rem; }
  .user-avatar { width: 70px; height: 70px; font-size: 2.5rem; right: 1.5rem; top: 1.5rem;}
  .quote-of-the-day { padding: 2rem; }
  #quote-text { font-size: clamp(1rem, 2.2vw, 1.4rem); }
  #quote-author { font-size: clamp(0.8rem, 1.2vw, 1rem); }
  .quick-actions { gap: 1rem; padding: 1rem; }
  .action-card { padding: 1.5rem 0.8rem; }
  .icon { font-size: clamp(2.5rem, 5vw, 3.5rem); margin-bottom: 0.6rem;}
  .label { font-size: clamp(0.85rem, 1.8vw, 1rem); }
  .news-section, .bookmark-section { padding: 1.5rem; }
  .news-section h2, .bookmark-section h2 { font-size: clamp(1.5rem, 3.5vw, 2.2rem); margin-bottom: 1.2rem;}
  .news-card, .bookmark-card { padding: 1.5rem; }
  .news-card h3 { font-size: clamp(1rem, 1.8vw, 1.2rem); }
  .news-card p { font-size: clamp(0.85rem, 1.3vw, 0.95rem); }
  .bookmark-card span:first-child { font-size: clamp(1.5rem, 3.5vw, 2.2rem); }
  .bookmark-card > div > div:first-child { font-size: clamp(0.9rem, 1.8vw, 1.1rem); }
  .bookmark-card > div > div:last-child { font-size: clamp(0.75rem, 1.2vw, 0.85rem); }
  .stats-panel { padding: 1rem; gap: 1rem; font-size: 0.9rem; }
}


@media (max-width: 768px) {
  :root {
    --blur-intensity: 15px; /* Further reduce blur for mobile performance */
    --saturate-intensity: 160%; /* Further reduce saturate for mobile performance */
    --r: 20px; /* Smaller border radius */
    --s: 0 8px 20px rgba(0,0,0,0.2); /* Even smaller shadow */
    --sh: 0 15px 40px rgba(0,0,0,0.3);
    --border-width: 1px;
    --glow-strength: 0 0 10px; /* Reduced glow for mobile */
  }
  .container {
    grid-template-columns: 1fr;
    grid-template-areas:
      "header"
      "main"
      "stats"; /* Stats panel moves to bottom on mobile */
    padding: 1rem 0;
    width: 95%; /* More edge padding */
  }

  .header {
    flex-direction: column;
    padding: 1rem;
    gap: 1rem;
  }
  .logo { font-size: clamp(2rem, 10vw, 3.5rem); } /* Adjusted for smaller screens */
  .controls {
    flex-direction: column;
    width: 100%;
    align-items: stretch;
    gap: 0.8rem;
  }
  .controls button, .theme-control select {
    width: 100%;
    text-align: center;
  }
  .weather-widget {
    margin-top: 1rem;
    width: 100%;
    justify-content: center;
  }
  .user-avatar {
    width: 60px;
    height: 60px;
    font-size: 2rem;
    right: 1rem;
    top: 1rem;
  }
  .time-widget { padding: 1.5rem; }
  #time { font-size: clamp(2rem, 12vw, 4rem); }
  #date { font-size: 0.9rem; }
  .search-box { padding: 0.7rem 1rem; }
  #search-input { font-size: 1rem; }
  .search-icon { font-size: 1.2rem; margin-right: 0.8rem; }
  #suggestions-box { margin-top: 0.3rem; }
  #suggestions-box li { padding: 0.7rem 1rem; font-size: 0.9rem; }

  .sections-container {
    grid-template-columns: 1fr;
    gap: 1rem;
    grid-template-areas: /* Linear flow for mobile */
      "quote"
      "actions"
      "news"
      "bookmarks";
  }

  .quote-of-the-day { padding: 1.5rem; }
  #quote-text { font-size: 1rem; }
  #quote-author { font-size: 0.75rem; }
  .quick-actions { padding: 0 0.5rem; gap: 1rem; }
  .action-card { padding: 1.5rem 0.6rem; }
  .icon { font-size: 2.8rem; margin-bottom: 0.5rem; }
  .label { font-size: 0.95rem; letter-spacing: 1px; }
  .news-section, .bookmark-section { padding: 1rem; }
  .news-section h2, .bookmark-section h2 { font-size: 1.6rem; margin-bottom: 1.2rem;}
  .news-card, .bookmark-card { padding: 1.5rem; }
  .news-card h3 { font-size: 1rem; }
  .news-card p { font-size: 0.8rem; margin-bottom: 0.8rem;}
  .bookmark-card span:first-child { font-size: 1.6rem; }
  .bookmark-card > div > div:first-child { font-size: 1rem; }
  .bookmark-card > div > div:last-child { font-size: 0.8rem; }
  .stats-panel { padding: 0.6rem 1rem; gap: 1rem; font-size: 0.8rem; }
  .glass { backdrop-filter: blur(5px) saturate(var(--saturate-intensity)); } /* Minimum blur for mobile */
}

/* Fallback for browsers that don't support backdrop-filter */
@supports not (backdrop-filter: blur(10px)) {
  .glass {
    background-color: var(--gb); /* Solid color fallback */
    border: var(--border-width) solid var(--gl); /* Keep borders */
    box-shadow: var(--s); /* Keep shadows */
  }
}
