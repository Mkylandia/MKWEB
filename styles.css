/* styles.css - MKWEB OS 7: iOS-Optimierte Version */

/* --- Global Design Variables - Premium --- */
:root {
  /* iOS Animation Timing */
  --t: 0.28s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Standard iOS Easing */
  --t-slow: 0.38s cubic-bezier(0.55, 0.055, 0.675, 0.19); /* Schnelle Interaktion */
  --t-bounce: 0.32s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* iOS Bounce */
  --t-elastic: 0.42s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Elastischer Effekt */
  
  /* ... (restliche Variablen bleiben gleich) ... */
}

/* --- Reduced Motion Support --- */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
    transform: none !important;
  }
}

/* --- iOS-optimierte Transformationen --- */
.glass, button, .user-avatar, .search-engine, 
.weather-link-button, .app-card {
  transform: translateZ(0); /* Hardware-Beschleunigung aktivieren */
  will-change: transform, opacity, box-shadow;
  backface-visibility: hidden;
}

/* --- Premium Glassmorphism (iOS-optimiert) --- */
.glass {
  transition: transform var(--t), box-shadow var(--t-slow);
  
  &:hover {
    transform: translate3d(0, -0.5em, 0); /* 3D-Transformation */
  }

  &:active {
    transform: translate3d(0, 0.1em, 0) scale(0.98);
  }
}

/* --- Premium Buttons (iOS Tap Feedback) --- */
button {
  transition: 
    transform var(--t-bounce),
    box-shadow var(--t),
    border-color var(--t);

  &:hover {
    transform: translate3d(0, -0.35em, 0);
  }

  &:active {
    transform: translate3d(0, 0.1em, 0) scale(0.96);
  }
}

/* --- Search Box Animation (iOS Style) --- */
.search-box {
  transition: 
    transform var(--t-elastic),
    box-shadow var(--t-slow);

  &:focus-within {
    transform: translate3d(0, -0.5em, 0) scale(1.02);
  }

  &:hover {
    transform: translate3d(0, -0.5em, 0);
  }
}

.search-icon {
  transition: 
    transform var(--t-bounce),
    color var(--t);
}

/* --- App Cards (iOS Tap Animation) --- */
.app-card {
  transition: 
    transform var(--t-bounce),
    box-shadow var(--t-slow),
    border-color var(--t);

  &:hover {
    transform: translate3d(0, -0.7em, 0) scale(1.08);
  }

  &:active {
    transform: translate3d(0, -0.4em, 0) scale(0.98);
  }
}

/* --- Parallax Effekt für Hintergrund --- */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at center, rgba(149, 101, 230, 0.08) 0%, transparent 70%);
  z-index: 1;
  pointer-events: none;
  will-change: transform;
  transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* --- Parallax beim Bewegen --- */
@media (hover: hover) {
  body:hover::before {
    transform: translate3d(
      calc((var(--mouse-x, 0.5) - 0.5) * 20px),
      calc((var(--mouse-y, 0.5) - 0.5) * 20px),
      0
    );
  }
}

/* --- iOS-spezifische Blur-Optimierung --- */
.glass {
  -webkit-backdrop-filter: blur(var(--blur-intensity)) saturate(var(--saturate-intensity));
  backdrop-filter: blur(var(--blur-intensity)) saturate(var(--saturate-intensity));
}

/* --- Touch Feedback für Mobile --- */
@media (pointer: coarse) {
  button, .user-avatar, .search-engine, 
  .weather-link-button, .app-card {
    &:active {
      transform: scale(0.95);
      transition: transform 0.1s ease-out;
    }
  }
  
  .search-box:active {
    transform: scale(0.98);
  }
}

/* --- Performance-Optimierte Animationen --- */
@keyframes gradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.92; }
  100% { opacity: 1; }
}

/* --- Glow Effekte optimiert --- */
.glass:hover, .search-box:focus-within {
  box-shadow: 
    0 10px 28px rgba(0,0,0,0.18),
    0 0 12px rgba(var(--acc-rgb), 0.25);
}
