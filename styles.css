/* =========================================
   MKWEB OS 7: Ultimate Elegance (Polished)
   Author: Mkylandia
   Year: 2025
   Description: Super-polished, highly structured, ultra-premium CSS
   ========================================= */

/* ========== 1. DESIGN TOKENS ========== */
:root {
  /* Typography */
  --font-main: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: 'Fira Mono', 'Consolas', 'Menlo', monospace;

  /* Fluid Sizing */
  --fluid-xs: clamp(0.16rem, 0.24vw + 0.10vh, 0.65rem);
  --fluid-s: clamp(0.36rem, 0.44vw + 0.22vh, 1.08rem);
  --fluid-m: clamp(0.64rem, 0.88vw + 0.44vh, 1.44rem);
  --fluid-l: clamp(1rem, 1.16vw + 0.58vh, 2.08rem);
  --fluid-xl: clamp(1.3rem, 1.38vw + 0.72vh, 2.6rem);

  /* Gaps */
  --gap-xs: clamp(0.15rem, 0.16vw + 0.09vh, 0.55rem);
  --gap-s: clamp(0.29rem, 0.32vw + 0.15vh, 0.88rem);
  --gap-m: clamp(0.46rem, 0.59vw + 0.23vh, 1.24rem);
  --gap-l: clamp(0.75rem, 0.85vw + 0.42vh, 1.68rem);

  /* Corners & Borders */
  --radius-xs: 8px;
  --radius-s: 16px;
  --radius-m: 24px;
  --radius-l: 32px;
  --border-width: 1.5px;

  /* Shadows */
  --shadow-xs: 0 2px 8px rgba(0,0,0,0.10);
  --shadow-s: 0 5px 20px rgba(0,0,0,0.14);
  --shadow-m: 0 10px 36px rgba(0,0,0,0.18);
  --shadow-l: 0 16px 56px 0 rgba(138,78,212,0.16);

  /* Main Colors */
  --bg: #0e0e0e;
  --fg: #f8f8f8;
  --dim: rgba(248,248,248,0.68);
  --acc: #8a4ed4;
  --ah: #b080ff;
  --gl: rgba(255,255,255,0.07);
  --gb: rgba(255,255,255,0.15);

  /* Gradients */
  --gradient-accent: linear-gradient(90deg, var(--acc) 0%, var(--ah) 100%);
  --gradient-glass: linear-gradient(120deg, rgba(138,78,212,0.12) 0%, rgba(176,128,255,0.08) 100%);
  --gradient-app-card: linear-gradient(135deg, var(--gl) 0%, var(--ah) 100%);

  /* RGBs */
  --acc-rgb: 138, 78, 212;
  --ah-rgb: 176, 128, 255;
  --fg-rgb: 248, 248, 248;

  /* Animations */
  --transition: all 0.43s cubic-bezier(0.34, 1.65, 0.64, 1.1);
  --transition-fast: all 0.18s cubic-bezier(0.26, 0.53, 0.46, 0.99);
  --transition-slow: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Content max-width */
  --content-max-width: 1600px;
}

/* ========== 2. RESET & BASICS ========== */
*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: var(--font-main);
  -webkit-tap-highlight-color: transparent;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

html {
  font-size: clamp(7px, 0.65vw + 0.4vh, 18px);
  background: var(--bg);
  scroll-behavior: smooth;
}

body {
  background: var(--bg);
  color: var(--fg);
  min-height: 100vh;
  min-width: 100vw;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
  text-rendering: optimizeLegibility;
  background-image: 
    radial-gradient(ellipse at 25% 30%, rgba(138,78,212,0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 75%, rgba(176,128,255,0.07) 0%, transparent 40%);
}

a {
  color: var(--acc);
  text-decoration: none;
  transition: color 0.22s;
}
a:hover, a:focus {
  color: var(--ah);
}

/* ========== 3. LAYOUT ========== */
.container {
  width: 100%;
  max-width: var(--content-max-width);
  margin: 0 auto;
  padding: var(--fluid-xl) var(--fluid-l);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--gap-l);
  min-height: 0;
  z-index: 2;
  position: relative;
}

.main-grid {
  display: grid;
  width: 100%;
  height: 100%;
  max-width: var(--content-max-width);
  grid-template-columns: 1fr 1fr;
  gap: var(--gap-l);
  flex-grow: 1;
  min-height: 0;
}

.grid-left, .grid-right {
  display: flex;
  flex-direction: column;
  gap: var(--gap-m);
  min-height: 0;
  height: 100%;
}

/* ========== 4. GLASS EFFECTS & CARDS ========== */
.glass {
  background: var(--gradient-glass);
  backdrop-filter: blur(20px) saturate(170%);
  border: var(--border-width) solid var(--gb);
  border-radius: var(--radius-s);
  box-shadow: var(--shadow-s);
  transition: var(--transition);
  position: relative;
  overflow: visible;
}
.glass::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: var(--radius-s);
  z-index: 2;
  pointer-events: none;
  background: linear-gradient(120deg, rgba(var(--acc-rgb),0.12) 0%, rgba(var(--ah-rgb),0.10) 100%);
  opacity: 0;
  transition: opacity 0.6s cubic-bezier(0.23, 1.13, 0.66, 1);
}
.glass:hover,
.glass:focus-within {
  box-shadow: var(--shadow-m), 0 0 32px 3px rgba(var(--ah-rgb),0.18);
  transform: translateY(-4px) scale(1.029) rotate3d(0.8,0.4,0,1deg);
}
.glass:hover::before,
.glass:focus-within::before {
  opacity: 0.5;
  animation: glassPulse 2.8s infinite;
}

/* ========== 5. HEADER ========== */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  max-width: var(--content-max-width);
  padding: var(--fluid-s) var(--fluid-l);
}

.logo {
  font-size: clamp(1.2rem, var(--fluid-font-header), 2.5rem);
  font-weight: 900;
  letter-spacing: -1.4px;
  background: var(--gradient-accent);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 0 10px rgba(var(--ah-rgb),0.25));
  transition: var(--transition-slow);
}
.logo:hover {
  transform: translateY(-3px) scale(1.045) skew(-1deg, -1deg);
  text-shadow: 0 0 24px var(--ah), 0 2px 7px var(--acc);
  filter: brightness(1.1) drop-shadow(0 0 16px var(--ah));
}

.controls {
  display: flex;
  gap: var(--gap-s);
  align-items: center;
}

.user-avatar {
  width: clamp(32px, 3vw, 50px);
  height: clamp(32px, 3vw, 50px);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: clamp(1.12rem, 1.18vw, 2.2rem);
  background: var(--gl);
  color: var(--acc);
  border: var(--border-width) solid var(--gb);
  box-shadow: 0 2px 16px rgba(var(--acc-rgb),0.18);
  cursor: pointer;
  transition: var(--transition);
  position: relative;
}
.user-avatar:hover {
  transform: translateY(-5px) scale(1.06) rotate(-2deg);
  box-shadow: 0 18px 44px rgba(var(--ah-rgb),0.18), 0 4px 24px var(--acc);
}

/* ========== 6. BUTTONS & INTERACTIVES ========== */
button, .weather-link-button, .app-card {
  background: var(--gl);
  border-radius: var(--radius-s);
  border: var(--border-width) solid var(--gb);
  box-shadow: var(--shadow-xs);
  transition: var(--transition);
  font-weight: 700;
  font-size: clamp(0.7rem, var(--fluid-font-min), 1.1rem);
  cursor: pointer;
  outline: none;
  position: relative;
  z-index: 1;
  padding: var(--fluid-xs) var(--fluid-m);
}
button:hover, .weather-link-button:hover, .app-card:hover {
  transform: translateY(-7px) scale(1.07) rotate(-1.5deg);
  box-shadow: var(--shadow-l), 0 0 20px 2px var(--ah);
  background: var(--gradient-accent);
  color: #fff;
}

/* ========== 7. SEARCH ========== */
.search-section {
  padding: var(--fluid-s);
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex-grow: 1;
  min-height: 0;
}

.search-engines {
  display: flex;
  gap: var(--gap-xs);
  margin-bottom: var(--fluid-s);
  flex-wrap: wrap;
  justify-content: center;
  perspective: 900px;
}

.search-engine {
  padding: clamp(0.33rem, 0.57vw, 0.83rem) clamp(0.7rem, 1vw, 1.28rem);
  border-radius: 30px;
  font-weight: 700;
  font-size: clamp(0.8rem, 0.97vw, 1.23rem);
  background: var(--gl);
  border: 1.5px solid transparent;
  position: relative;
  transition: var(--transition-slow);
  cursor: pointer;
  transform-style: preserve-3d;
  z-index: 0;
  letter-spacing: 0.1px;
  box-shadow: 0 2px 8px rgba(var(--acc-rgb), 0.09);
}
.search-engine::before {
  content: '';
  position: absolute;
  inset: -2.5px;
  border-radius: 32px;
  background: var(--gradient-accent);
  z-index: -1;
  opacity: 0;
  transition: opacity 0.29s;
  filter: blur(2.5px);
}
.search-engine:hover {
  transform: translateY(-8px) scale(1.12) rotate3d(0,1,0,7deg);
  box-shadow: 0 13px 34px var(--ah), 0 0 30px 3px var(--acc);
  color: #fff;
}
.search-engine:hover::before {
  opacity: 0.6;
  animation: selectPulse 1.17s var(--cubic-elastic) 1;
}
.search-engine.active {
  background: linear-gradient(120deg, var(--acc) 68%, var(--ah) 120%);
  color: #fff;
  border: 1.5px solid #fff2;
  box-shadow: 0 0 32px var(--acc), 0 2px 4px #fff4 inset;
  animation: selectPulse 0.8s var(--cubic-elastic);
  transform: translateY(-6px) scale(1.17) rotate(-2deg);
}

.search-box {
  display: flex;
  align-items: center;
  border-radius: var(--radius-s);
  padding: var(--fluid-s);
  background: var(--gl);
  border: 1.2px solid rgba(var(--fg-rgb), 0.14);
  transition: var(--transition);
  box-shadow: var(--shadow-xs);
  margin-bottom: var(--gap-m);
  position: relative;
}
.search-box:focus-within {
  transform: translateY(-5px) scale(1.03) skew(-2deg,1deg);
  box-shadow: 0 14px 38px var(--acc), 0 0 28px var(--ah);
  border: 1.3px solid var(--acc);
  animation: borderGlow 1.9s infinite;
}
.search-icon {
  font-size: clamp(1.15rem, 1.25vw, 2.05rem);
  color: var(--dim);
  margin-right: var(--fluid-xs);
  transition: color 0.28s, filter 0.28s;
  filter: drop-shadow(0 0 6px var(--acc));
}
.search-box:focus-within .search-icon {
  color: var(--ah);
  filter: brightness(1.2) drop-shadow(0 0 8px var(--ah));
  transform: scale(1.09);
}
#search {
  flex: 1;
  border: none;
  background: transparent;
  color: var(--fg);
  font-size: clamp(0.8rem, var(--fluid-font-max), 1.2rem);
  outline: none;
  padding: 0.33rem 0;
}
#search::placeholder {
  color: var(--dim);
  transition: opacity 0.3s;
}
#search:focus::placeholder {
  opacity: 0.78;
}

/* ========== 8. TIME DISPLAY ========== */
.time-display {
  text-align: center;
  padding: var(--fluid-l);
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex-grow: 2;
  min-height: 0;
  border-radius: var(--radius-m);
  position: relative;
  background: linear-gradient(120deg, rgba(var(--acc-rgb),0.06) 0%, rgba(var(--ah-rgb),0.05) 100%);
  box-shadow: var(--shadow-s);
  overflow: hidden;
  transition: var(--transition);
}
.time-display:hover #time {
  animation: neonGlow 4s ease-in-out infinite;
}
.time-display:hover #date {
  color: #fff;
  transform: translateY(2px);
}
#time {
  font-size: clamp(2.5rem, var(--fluid-font-time), 8rem);
  font-weight: 900;
  margin-bottom: clamp(0.08rem, 0.09vh, 0.38rem);
  background: var(--gradient-accent);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: -1.8px;
  filter: drop-shadow(0 0 16px var(--acc));
  transition: var(--transition);
}
#date {
  font-size: clamp(0.65rem, var(--fluid-font-min), 1.2rem);
  color: var(--dim);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: clamp(0.4px, 0.13vw, 2.2px);
  transition: var(--transition);
}

/* ========== 9. QUOTE SECTION ========== */
.quote-section {
  padding: var(--fluid-l);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  flex-grow: 1;
  min-height: 0;
  position: relative;
  transition: var(--transition);
}
.quote-section:hover #quote-text {
  text-shadow: 0 0 18px var(--ah);
}
.quote-section:hover #quote-author {
  color: var(--ah);
}
#quote-text {
  font-size: clamp(1.1rem, var(--fluid-font-max), 1.45rem);
  font-weight: 600;
  margin-bottom: clamp(0.27rem, 0.23vw, 0.69rem);
  font-style: italic;
  line-height: 1.8;
  max-width: 82%;
  position: relative;
  padding: 0 2.2rem;
  transition: var(--transition);
}
#quote-text::before, #quote-text::after {
  content: '"';
  position: absolute;
  font-size: 4em;
  line-height: 0;
  color: var(--acc);
  opacity: 0.18;
  font-family: Georgia, serif;
  transition: opacity var(--t-normal) ease;
  filter: blur(0.8px);
}
#quote-text::before {
  top: 0.6em;
  left: -0.5em;
}
#quote-text::after {
  bottom: 0.4em;
  right: -0.5em;
}
#quote-text:hover::before, #quote-text:hover::after {
  opacity: 0.34;
}
#quote-author {
  font-size: clamp(0.65rem, var(--fluid-font-min), 1.15rem);
  color: var(--dim);
  font-weight: 500;
  letter-spacing: 0.85px;
  transition: color var(--t-normal) ease;
}
#quote-author::before {
  content: "— ";
}

/* ========== 10. WEATHER SECTION ========== */
.weather-link-section {
  padding: var(--fluid-s);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  flex-grow: 1;
  min-height: 0;
  transition: var(--transition);
}
.weather-link-section:hover .weather-link-button {
  animation: float 2.3s var(--cubic-elastic) infinite;
}
.weather-link-section:hover .weather-icon {
  animation: pulse 1.3s infinite;
}
.weather-link-section h2 {
  font-size: clamp(1.06rem, var(--fluid-font-header), 1.61rem);
  font-weight: 800;
  margin-bottom: var(--fluid-s);
  color: var(--dim);
  letter-spacing: 0.42px;
  transition: color var(--t-normal) ease;
  text-shadow: 0 1px 8px var(--acc);
}
.weather-link-button {
  display: inline-flex;
  align-items: center;
  gap: var(--gap-s);
  padding: var(--fluid-s) var(--fluid-m);
  text-decoration: none;
  font-weight: 700;
  font-size: clamp(0.82rem, var(--fluid-font-max), 1.17rem);
  border: 1.5px solid var(--acc);
  background: linear-gradient(90deg, var(--gl) 0%, var(--ah) 100%);
  box-shadow: 0 2px 16px var(--acc);
}
.weather-link-button:hover {
  border: 1.8px solid var(--ah);
  box-shadow: 0 10px 34px var(--ah), 0 0 28px var(--acc);
  background: linear-gradient(90deg, var(--gl) 10%, var(--ah) 90%);
  color: #fff;
}
.weather-link-button .weather-icon {
  font-size: clamp(1.33rem, 1.5vw, 2.33rem);
  color: var(--acc);
  transition: all var(--t-normal) var(--cubic-elastic);
  filter: drop-shadow(0 0 10px var(--acc));
}
.weather-link-button:hover .weather-icon {
  transform: scale(1.17) rotate(5deg);
  color: var(--ah);
  filter: drop-shadow(0 0 14px var(--ah));
}
.weather-notice {
  margin-top: var(--fluid-s);
  font-size: clamp(0.63rem, var(--fluid-font-min), 0.97rem);
  color: var(--dim);
  max-width: 90%;
  line-height: 1.5;
  transition: opacity var(--t-normal) ease;
}
.weather-notice:hover {
  opacity: 0.98;
}

/* ========== 11. APPS SECTION ========== */
.apps-section {
  width: 100%;
  padding: var(--fluid-s);
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  min-height: 0;
  overflow: visible;
  transition: var(--transition);
}
.apps-section:hover h2 {
  color: var(--ah);
}
.apps-section h2 {
  margin-bottom: var(--fluid-s);
  font-size: clamp(1rem, var(--fluid-font-header), 1.53rem);
  font-weight: 800;
  text-align: center;
  color: var(--dim);
  letter-spacing: 0.5px;
  transition: color var(--t-normal) ease;
  text-shadow: 0 1px 6px var(--acc);
}
.apps-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(clamp(64px, 9vw + 5vh, 124px), 1fr));
  gap: var(--gap-s);
  padding: var(--fluid-xs);
  flex-grow: 1;
  min-height: 0;
  max-height: 100%;
  overflow: visible;
}
.app-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  aspect-ratio: 1 / 1;
  position: relative;
  padding: clamp(0.52rem, 0.7vw + 0.4vh, 1.18rem);
  border: 1.2px solid transparent;
  background: var(--gradient-app-card);
  transition: transform var(--t-slow) var(--cubic-bounce), 
              box-shadow var(--t-normal) ease,
              background var(--t-normal) ease;
  text-decoration: none;
}
.app-card:hover {
  z-index: 11;
  box-shadow: 0 22px 60px var(--ah), 0 2px 28px var(--acc);
  background: linear-gradient(135deg, var(--ah) 0%, var(--gl) 100%);
  color: #fff;
}
.app-card .icon {
  font-family: 'Material Symbols Outlined';
  font-size: clamp(1.28rem, 2vw + 1.3vh, 2.9rem);
  margin-bottom: clamp(0.29rem, 0.32vw + 0.15vh, 0.8rem);
  display: block;
  transition: all var(--t-slow) var(--cubic-elastic);
  filter: drop-shadow(0 0 10px var(--acc));
}
.app-card:hover .icon {
  transform: scale(1.17) rotate(6deg);
  color: var(--ah);
  filter: drop-shadow(0 0 18px var(--ah));
}
.app-card .label {
  font-size: clamp(0.55rem, 0.7vw + 0.22vh, 1.13rem);
  font-weight: 600;
  line-height: 1.28;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  display: -webkit-box;
  overflow: hidden;
  text-align: center;
  transition: color var(--t-normal) ease;
  color: var(--fg);
}
.app-card:hover .label {
  color: #fff;
  text-shadow: 0 1px 8px var(--ah);
}

/* ========== 12. RESPONSIVE DESIGN ========== */
@media (max-width: 992px) {
  html {
    font-size: clamp(6px, 0.82vw + 0.45vh, 16px);
  }
  .container {
    padding: var(--fluid-m);
    gap: var(--gap-m);
  }
  .main-grid {
    grid-template-columns: 1fr;
    display: flex;
    flex-direction: column;
    gap: var(--gap-m);
    overflow-y: auto;
    height: auto;
  }
  .time-display,
  .search-section,
  .weather-link-section,
  .quote-section {
    flex-grow: 0;
    padding: var(--fluid-s);
  }
  #time {
    font-size: clamp(1.8rem, 7.5vw, 5rem);
  }
  #quote-text {
    font-size: clamp(1.06rem, 1.24vw + 1vh, 1.25rem);
    padding: 0 1.2rem;
  }
  .apps-container {
    grid-template-columns: repeat(auto-fill, minmax(clamp(54px, 12vw + 7vh, 98px), 1fr));
  }
  .search-engine {
    padding: 0.45rem 1.13rem;
  }
}

/* ========== 13. ANIMATIONS ========== */
@keyframes neonGlow {
  0%, 100% {
    text-shadow: 0 0 12px var(--acc), 0 0 6px var(--ah);
  }
  50% {
    text-shadow: 0 0 38px var(--ah), 0 0 16px var(--acc);
  }
}
@keyframes glassPulse {
  0%, 100% { opacity: 0.55; }
  50% { opacity: 0.85; }
}
@keyframes float {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}
@keyframes pulse {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.14); }
}
@keyframes pulseGlow {
  0%,100% { box-shadow: inset 0 0 0 2.5px var(--acc); }
  50% { box-shadow: inset 0 0 0 5px var(--ah); }
}
@keyframes selectPulse {
  0% {
    box-shadow: 0 0 0 0 var(--ah), 0 0 22px var(--acc);
    transform: translateY(-3px) scale(1);
  }
  60% {
    box-shadow: 0 0 0 16px var(--acc), 0 0 38px var(--ah);
    transform: translateY(-7px) scale(1.18);
  }
  100% {
    box-shadow: 0 0 32px var(--acc), 0 2px 4px #fff4 inset;
    transform: translateY(-6px) scale(1.17);
  }
}
@keyframes borderGlow {
  0%,100% {
    box-shadow: 0 14px 38px var(--acc), 0 0 0 1.2px var(--acc) inset;
  }
  50% {
    box-shadow: 0 14px 48px var(--ah), 0 0 0 1.7px var(--ah) inset;
  }
}

/* ========== 14. ACCESSIBILITY ========== */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
